{% extends 'base.html' %} 
{% load static %} 
{% block title %} {% endblock title%}
 {% block content %}

<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
  crossorigin="anonymous"
/>
{% include 'messages.html' %} 
<div class="header-bar">
  <div>
    <h1>hello {{request.user|title}}</h1>
    <h3 style="margin:0">You have <i>{{id}}</i> incompleted task{{id|pluralize:"s"}} </h3>
  </div>


{% if request.user.is_authenticated %}

<a href="{% url 'logout' %}">logout</a>

{% else %}
<a href="{% url 'login' %}">login</a>
{% endif %}
 </div>
 <div id="search-add-wrapper">
 <form action="" method="GET" style="margin-top:20px;display:flex;" novalidate autocomplete="off">
  <input type="text" name="search-area" id="" value='{{search_input}}' >
  <input class="button" type="submit" value="search">
</form>
<a id="add-link" href="{% url 'taskcreate' %}">&#x2b</a>
 </div>
<div class="task-items-wrapper">
  {% for i in task %}
  <div class="task-wrapper">
    {% if i.complete %}
      <div class="task-title">
        <div class="task-complete-icon"></div>
        <i><s><a href="{% url 'taskedit' i.id %}">{{i.title}}</a></s></i>
      </div>
    {% else %}
    <div class="task-title" >
      <div class="task-incomplete-icon"></div>
      <a  href="{% url 'taskedit' i.id %}">{{i.title}}</a>
    </div>
    {% endif %}
    <a class="delete-link"  href="{% url 'taskdelete' i.id %}">&#215</a>
  </div>
  {%empty%}
  <h3>No items in list</h3>
  {% endfor %}
</div>


<script
  src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
  integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
  integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
  crossorigin="anonymous"
></script>

{% endblock content %}
